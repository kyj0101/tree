<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<th:block th:replace="common/header">
</th:block>

<link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.8.0/main.min.css' rel='stylesheet' />
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.8.0/main.min.js'></script>
<!-- fullcalendar 언어 CDN -->
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.8.0/locales-all.min.js'></script>

<script src='/js/schedule/schedule.js'></script>

<link rel="stylesheet" href="/css/schedule/schedule.css">

    <section>
        <div id='calendar-container'>
			<div id='calendar'></div>
		</div>
    </section>
</body>
</html>

<!-- calendar modal -->
<div class="modal fade" id="addDate" data-backdrop="static"
	data-keyboard="false" tabindex="-1"
	aria-labelledby="staticBackdropLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-scrollable modal-lg">
		<div class="modal-content">
			<input type="hidden" id="projectId" th:value="${projectId}" />
			<div class="modal-header">
				<h5 class="modal-title" id="add-modal-label">일정추가</h5>
				<button type="button" class="close" data-dismiss="modal"
					aria-label="Close" onclick="resetInput();">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>

			<div class="modal-body">
				<div class="input-group mb-3 calendarInputDiv">
					<p class="input-group-text">일정명</p>
					<input type="text" class="form-control addTitle">
				</div>

				<div class="input-group mb-3 calendarInputDiv">
					<span class="input-group-text">시작일</span> 
					<input type="date" class="form-control addStartDate">
				</div>
				
				<div class="input-group mb-3 calendarInputDiv">
					<span class="input-group-text">시작 시간</span> 
					<input type="time" class="form-control addStartTime time">
				</div>
				
				<div class="input-group mb-3 calendarInputDiv">
					<span class="input-group-text">종료일</span> 
					<input type="date" class="form-control addEndDate">
				</div>
				
				<div class="input-group mb-3 calendarInputDiv" >
					<span class="input-group-text">종료 시간</span> 
					<input type="time" class="form-control addEndTime time">
				</div>
				<div class="form-check" style="display: flex; justify-content: flex-end; padding: 0;">
					<ul style="display: flex;">
						<li style="margin-top: 30px;">
							<input class="form-check-input allDay" type="checkbox" value="Y" id="addAllDay" onchange="changeAllday(this);">
						  	<label class="form-check-label" for="addAllDay">종일</label>
						</li>
						<li style="margin-left: 25px; display: flex; width: 120px; margin-top: 30px;">
							<input type="color" class="form-control form-control-color" id="color" value="#007bff">
						  	<label class="" for="colors" style="width: 50px; padding-left: 3px; padding-top: 5px;">색상</label>
						</li>
					</ul>
				</div>
			</div>

			<div class="modal-footer">
				<button type="button" class="btn btn-primary" onclick="addSchedule();">저장</button>
			</div>
		</div>
	</div>
</div>

<div class="modal fade" id="updateDate" data-backdrop="static"
	data-keyboard="false" tabindex="-1"
	aria-labelledby="staticBackdropLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-scrollable modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="add-modal-label">일정 상세보기</h5>
				<button type="button" class="close" data-dismiss="modal"
					aria-label="Close" onclick="resetInput();">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>

			<div class="modal-body member-modal-body ">
			
				<input type="hidden" id="scheduleId">
			
				<div class="input-group mb-3">
					<p class="input-group-text">일정명</p>
					<input type="text" class="form-control updateTitle">
				</div>

				<div class="input-group mb-3">
					<span class="input-group-text">시작일</span> 
					<input type="date" class="form-control updateStartDate">
				</div>
				
				<div class="input-group mb-3">
					<span class="input-group-text">시작 시간</span> 
					<input type="time" class="form-control updateStartTime time">
				</div>
				
				<div class="input-group mb-3">
					<span class="input-group-text">종료일</span> 
					<input type="date" class="form-control updateEndDate">
				</div>
				
				<div class="input-group mb-3">
					<span class="input-group-text">종료 시간</span> 
					<input type="time" class="form-control updateEndTime time">
				</div>
				<div class="form-check" style="display: flex; justify-content: flex-end; padding: 0;">
					<ul style="display: flex;">
						<li style="margin-top: 30px;">
							<input class="form-check-input allDay" type="checkbox"  id="updateAllDay" value="Y" onchange="changeAllday(this);">
						  	<label class="form-check-label" for="updateAllDay">종일</label>
						</li>
						<li style="margin-left: 25px; display: flex; width: 120px; margin-top: 30px;">
							<input type="color" class="form-control form-control-color" id="updateColor" value="#007bff">
						  	<label class="" for="colors" style="width: 50px; padding-left: 3px; padding-top: 5px;">색상</label>
						</li>
					</ul>
				</div>
			</div>

			<div class="modal-footer">
				<button type="button" class="btn btn-success" onclick="updateShedule();">수정</button>
				<button type="button" class="btn btn-secondary" onclick="deleteSchedule();">삭제</button>
			</div>
		</div>
	</div>
</div>

<th:block th:replace="common/addModal">
</th:block>
